// Function to create a new HTML element with given tag, id, and text
function createElementWithId(tag, id, textContent) {
    const element = document.createElement(tag);
    element.id = id;
    if (textContent) {
        element.textContent = textContent;
    }
    return element;
}

// Function to add a CSS style block to the head of the document
function addStyles() {
    const style = document.createElement('style');
    style.textContent = `
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding-top: 50px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    `;
    document.head.appendChild(style);
}

// 1. Build the Header
const header = createElementWithId('header', 'main-header');
const greetingTitle = createElementWithId('h1', 'greeting-title', 'Welcome to a Dynamic Homepage!');
header.appendChild(greetingTitle);

// 2. Build the Main Content Area
const main = createElementWithId('main', 'main-content');
const introParagraph = createElementWithId('p', 'introduction-text', 'This entire page was generated by JavaScript!');
const changeButton = createElementWithId('button', 'change-button', 'Change the Text');
main.appendChild(introParagraph);
main.appendChild(changeButton);

// 3. Build the Footer
const footer = createElementWithId('footer', 'main-footer');
const footerParagraph = createElementWithId('p', 'footer-text', 'Page last generated: ');
const lastUpdatedSpan = createElementWithId('span', 'last-updated', new Date().toLocaleString());
footerParagraph.appendChild(lastUpdatedSpan);
footer.appendChild(footerParagraph);

// 4. Append all sections to the body
document.body.appendChild(header);
document.body.appendChild(main);
document.body.appendChild(footer);

// 5. Add event listener for interactivity
changeButton.addEventListener('click', function() {
    introParagraph.textContent = "The content was updated with a button click!";
    greetingTitle.textContent = "All from JavaScript!";
});

// 6. Add the CSS styles
addStyles();